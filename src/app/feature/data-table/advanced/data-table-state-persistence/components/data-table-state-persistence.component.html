<div class="feature-container">
  <h1>State Persistence</h1>

  <p>
    Assume that you are navigating from one page to another. After some time due to a reason you might want to come back
    to the same page which you were initially and want to see previously filtered data set in the table with all the
    configurations you set. But when you come back to that previous page you might see that all the changes that you did
    have gone and the table came to its default state. So in this type of case, you can use the data table state
    persistence.
  </p>

  <p>
    Data table allows users to persist table state for filtering, sorting orders, sorting priority and pagination. After
    enabling this feature, you can try out each behavior and come back to the same data table after navigating to a
    different view.
  </p>

  <h2 id="whatYouWillSee">What You Will See</h2>

  <app-state-persistence-usage></app-state-persistence-usage>
  <app-example-code [files]="statePersistenceUsage"></app-example-code>

  <h2 id="basicUsage">Basic Usage</h2>
  <p>To enable state persistence, simply set <code>persistTableState</code> to <b>true</b> and by default
    persistTableState is <b>false</b>.</p>

  <app-code-snippet [type]="FileType.HTML" [content]="demoSnippet.persistTableState"></app-code-snippet>

  <p>
    The updated state of the data table will be stored in the client-side browser storage. In default the table store
    data in the <b>session storage</b>.
  </p>

  <h2 id="usefulProperties">Useful Properties</h2>
  <p>There are some additional properties which are depended with this state persistence control.</p>

  <h4 id="storageMode">Storage Mode</h4>

  <code>storageMode: string = 'session' | 'local'</code> &nbsp;
  <h5 class="badge badge-pill badge-warning">Default Value: 'session'</h5>
  <span class="pr-1"></span>
  <span class="badge badge-pill badge-info">Target Component: &lt;ng-data-table&gt;</span>

  <p>
    This property let you to control the browser storage type that you want to use to save the data table state. There
    are two types of storage modes are available.
  </p>

  <ul class="main-pane-list">
    <li><b>local</b> - Browser Local Storage</li>
    <li><b>session</b> - Browser Session Storage</li>
  </ul>

  <p>
    Keep in mind, storage key is a combination of <a [routerLink]="['/feature/data-table/functionality/row/selection']"
                                                     [fragment]="'identifier'">Data table Identifier</a> property with
    the prefix of <b>"grid_state_"</b>. Assume that you provided id as "table_details". Then the state will be saved
    with the key name of <b>"grid_state_table_details"</b> in your respective browser storage.
  </p>

  <p>The following example shows storing data in the local storage.</p>

  <app-storage-mode-usage></app-storage-mode-usage>
  <app-example-code [files]="storageModeUsage"></app-example-code>

  <h2 id="suggestedLinks">Suggested Links</h2>
  <a [routerLink]="['/feature/data-table/functionality/row/selection']"
     [fragment]="'identifier'">Identifier(ID)</a><br/>
  <a rel="noopener" target="_blank" href="api-docs/components/DataTableComponent.html#persistTableState">API Doc for
    State Persistence</a>
</div>
